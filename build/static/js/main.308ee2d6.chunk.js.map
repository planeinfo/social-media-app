{"version":3,"sources":["StateProvider.js","firebase.js","components/Header.js","components/Login.js","components/Post.js","components/SinglePost.js","components/Profile.js","components/Upload.js","components/Footer.js","App.js","reducer.js","serviceWorkerRegistration.js","index.js"],"names":["StateContext","createContext","StateProvider","reducer","initialState","children","Provider","value","useReducer","useStateValue","useContext","db","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","firestore","auth","provider","GoogleAuthProvider","storage","Header","user","useEffect","btnToggle","document","querySelector","theme","localStorage","getItem","classList","add","remove","addEventListener","contains","setItem","clear","toggle","className","to","type","email","src","photoURL","alt","title","onClick","signOut","split","id","Login","history","useHistory","useState","signInWithPopup","then","result","push","catch","error","Post","postId","post","comments","setComments","likedPosts","setlikedPosts","comment","setComment","hasMoreComments","setHasMoreComments","icon","getElementById","collection","doc","orderBy","onSnapshot","snapshot","docs","length","slice","Math","max","map","data","indexOf","avatar","username","imageUrl","set","delete","console","log","caption","i","text","placeholder","onChange","e","target","disabled","event","preventDefault","displayName","timestamp","FieldValue","serverTimestamp","SinglePost","useParams","setPost","get","onclick","href","Aircraft","Airline","Profile","userid","posts","setPosts","filter","planes","label","Upload","setCaption","setAircraft","setAirline","image","setImage","file","setFile","showDelete","setshowDelete","fileName","setFileName","progress","setProgress","closeUpload","style","display","options","opt","htmlFor","accept","files","URL","createObjectURL","a","toString","name","substring","imageName","floor","random","ref","put","on","round","bytesTransferred","totalBytes","alert","message","child","getDownloadURL","url","scrollIntoView","behavior","Footer","App","dispatch","onAuthStateChanged","authUser","exact","path","state","action","isLocalhost","Boolean","window","location","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","ReactDOM","render","StrictMode","process","origin","fetch","headers","response","contentType","status","ready","unregister","reload","checkValidServiceWorker","serviceWorkerRegistration","waitingServiceWorker","waiting","postMessage"],"mappings":"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","file":"static/js/main.308ee2d6.chunk.js","sourcesContent":["import React, { createContext, useContext, useReducer } from \"react\";\n\nexport const StateContext = createContext();\n\nexport const StateProvider = ({ reducer, initialState, children }) => (\n\t<StateContext.Provider value={useReducer(reducer, initialState)}>\n\t\t{children}\n\t</StateContext.Provider>\n);\n\nexport const useStateValue = () => useContext(StateContext);\n","import firebase from \"firebase\";\n\nconst firebaseConfig = {\n\tapiKey: \"AIzaSyCUFJEIrO38kPGNSrMHcdz9_lA9S3ke92o\",\n\tauthDomain: \"planeinfo.firebaseapp.com\",\n\tdatabaseURL: \"https://planeinfo-default-rtdb.europe-west1.firebasedatabase.app\",\n\tprojectId: \"planeinfo\",\n\tstorageBucket: \"planeinfo.appspot.com\",\n\tmessagingSenderId: \"101027156179\",\n\tappId: \"1:101027156179:web:e604f3d360e921be82c426\",\n\tmeasurementId: \"G-N5GQZ0QPS3\"\n  };\n\nconst firebaseApp = firebase.initializeApp(firebaseConfig);\n\nconst db = firebaseApp.firestore();\nconst auth = firebase.auth();\nconst provider = new firebase.auth.GoogleAuthProvider();\nconst storage = firebase.storage()\n\nexport { db, auth, provider, storage };\n","import React, { useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { useStateValue } from \"../StateProvider\";\nimport \"./Header.css\";\nimport { auth } from \"../firebase\";\n\nfunction Header() {\n\tconst [{ user }, dispatch] = useStateValue();\n\n\tconst handleAuthenticaton = () => {\n\t\tif (user) {\n\t\t\tauth.signOut();\n\t\t}\n\t};\n\n\tuseEffect(() => {\n\t\tconst btnToggle = document.querySelector(\"#themeToggle i\");\n\t\tconst theme = localStorage.getItem(\"theme\");\n\n\t\tif (theme === \"light\") {\n\t\t\tbtnToggle.classList.add(\"fa-sun\");\n\t\t\tbtnToggle.classList.remove(\"fa-moon\");\n\t\t\tdocument.querySelector(\"body\").classList.add(theme);\n\t\t}\n\n\t\tbtnToggle.addEventListener(\"click\", () => {\n\t\t\tif (btnToggle.classList.contains(\"fa-moon\")) {\n\t\t\t\tbtnToggle.classList.add(\"fa-sun\");\n\t\t\t\tbtnToggle.classList.remove(\"fa-moon\");\n\t\t\t\tlocalStorage.setItem(\"theme\", \"light\");\n\t\t\t} else {\n\t\t\t\tbtnToggle.classList.add(\"fa-moon\");\n\t\t\t\tbtnToggle.classList.remove(\"fa-sun\");\n\t\t\t\tlocalStorage.clear();\n\t\t\t}\n\t\t\tdocument.querySelector(\"body\").classList.toggle(\"light\");\n\t\t});\n\t}, []);\n\n\treturn (\n\t\t<div className=\"header\">\n\t\t\t<Link className=\"link headerTitle\" to=\"/\">\n\t\t\t\t<h1 className=\"headerLogo\">&#128743; planeinfo</h1>\n\t\t\t</Link>\n\n\t\t\t<div className=\"headerSearchContainer\">\n\t\t\t\t<input className=\"headerSearchInput\" type=\"text\" />\n\t\t\t\t<i className=\"fas fa-search headerSearchIcon\"></i>\n\t\t\t</div>\n\t\t\t<div className=\"break\" ></div>\n\n\t\t\t<div className=\"headerNavContainer\">\n\t\t\t\t<Link to=\"/\" className=\"link headerOptionBasket\">\n\t\t\t\t\t<div className=\"headerOptionBasket\">\n\t\t\t\t\t\t<i className=\"fas fa-home\"></i>\n\t\t\t\t\t</div>\n\t\t\t\t</Link>\n\n\t\t\t\t\n\n\t\t\t\t<Link to={`/profile/${user?.email}`} className=\"link headerOptionBasket\">\n\t\t\t\t\t<div className=\"headerOptionBasket\">\n\t\t\t\t\t\t{user && <img className=\" headerAvatar\" src={user?.photoURL || `https://avatars.dicebear.com/api/gridy/${user?.email}.svg`} alt={user?.email} title={user?.email}/>}\n\t\t\t\t\t</div>\n\t\t\t\t</Link>\n\n\t\t\t\t<Link to={!user ? \"/login\" : \"\"} className=\"link headerOptionBasket\">\n\t\t\t\t\t<div onClick={handleAuthenticaton} >\n\t\t\t\t\t\t<span className=\"headerOption\">\n\t\t\t\t\t\t\t<span className=\"headerOptionLineOne\">\n\t\t\t\t\t\t\t\t{user ? user.email.split('@')[0] : \"Hello Guest\"}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t<span className=\"headerOptionLineTwo\">\n\t\t\t\t\t\t\t\t{user ? \"Sign Out\" : \"Sign In\"}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</div>\n\t\t\t\t</Link>\n\t\t\t\t\n\n\n\t\t\t</div>\n\n\t\t\t<div id=\"themeToggle\" className=\"headerTheme\">\n\t\t\t\t<i className=\"far fa-moon\"></i>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nexport default Header;\n","import React, { useEffect, useState } from \"react\";\nimport \"./Login.css\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport { auth, provider } from \"../firebase\";\n\nfunction Login() {\n\tconst history = useHistory();\n\tconst [email, setEmail] = useState(\"\");\n\tconst [password, setPassword] = useState(\"\");\n\n\tuseEffect(() => {\n\t\tdocument.title = `Login | Planeinfo`;\n\t}, [])\n\n\tconst signIn = () => {\n\t\tauth.signInWithPopup(provider)\n\t\t\t.then((result) => {\n\t\t\t\thistory.push(\"/\");\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\t// alert(error.message);\n\t\t\t});\n\t};\n\t\n\tconst signInEmail = (e) => {\n\t\te.preventDefault();\n\n\t\tauth.signInWithEmailAndPassword(email, password)\n\t\t\t.then((auth) => {\n\t\t\t\thistory.push(\"/\");\n\t\t\t})\n\t\t\t.catch((error) => alert(error.message));\n\t};\n\n\tconst register = (e) => {\n\t\te.preventDefault();\n\n\t\tauth.createUserWithEmailAndPassword(email, password)\n\t\t\t.then((auth) => {\n\t\t\t\tif (auth) {\n\t\t\t\t\thistory.push(\"/\");\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => alert(error.message));\n\t};\n\n\treturn (\n\t\t<div className=\"login\">\n\t\t\t<div className=\"loginContainer\">\n\t\t\t\t<Link to=\"/\" className=\"link\">\n\t\t\t\t\t<h1 className=\"loginLogo\">Planeinfo</h1>\n\t\t\t\t</Link>\n\t\t\t\t\n\n\t\t\t\t<button onClick={signIn} className=\"loginSignInButtonGoogle\">\n\t\t\t\t\t<i className=\"fab fa-google\"></i> Sign In with Google\n\t\t\t\t</button>\n\n\t\t\t\t<p>\n\t\t\t\t\tWarning: This is a rapidly developing site so some things may be vulneruble or unprotected and there may be bugs.\n\t\t\t\t</p>\n\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nexport default Login;\n","import React, { useEffect, useState } from \"react\";\nimport { db } from \"../firebase\";\nimport firebase from \"firebase\";\nimport \"./Post.css\";\nimport { Link } from \"react-router-dom\";\n\nfunction Post({ postId, post, user }) {\n\n    const [comments, setComments] = useState([]);\n    const [likedPosts, setlikedPosts] = useState([]);\n    const [comment, setComment] = useState('');\n    const [hasMoreComments, setHasMoreComments] = useState(false);\n    const icon = document.getElementById(postId);\n\n    useEffect(() => {\n\t\tdocument.title = `Home | Planeinfo`;\n\t}, [])\n\n\n    useEffect(() => {\n        if(postId){\n            db.collection(\"posts\")\n            .doc(postId)\n            .collection(\"comments\")\n            .orderBy(\"timestamp\", \"asc\")\n            .onSnapshot((snapshot)=>{\n                if(snapshot.docs.length > 3){\n                    setHasMoreComments(true);\n                }\n                setComments(snapshot.docs.slice(Math.max(snapshot.docs.length - 3, 0)).map((doc)=>doc.data()));\n            });\n        }\n\n    }, [postId])\n\n    useEffect(()=> {\n        if(postId && user){\n\n            db.collection(\"users\").doc(user.email).collection(\"likes\").onSnapshot((snapshot)=>{\n                setlikedPosts(snapshot.docs.map((doc)=>doc.id));\n            });\n\n            if(likedPosts.indexOf(postId) >= 0){\n                icon.classList.add('fas');\n            }\n        }\n    }, [postId, likedPosts.length, icon, user])\n\n    const changeHeart = () => {\n        if(postId && user){\n            icon.classList.toggle('fas');\n\n            if(icon.classList.contains('fas')){\n                db.collection(\"users\").doc(user.email).collection(\"likes\").doc(postId).set({\n                    post: postId\n                });\n            }else{\n                db.collection(\"users\").doc(user.email).collection(\"likes\").doc(postId).delete().then(function() {\n                    console.log(\"Unliked Photo!\");\n                }).catch(function(error) {\n                    console.error(\"Error unliking: \", error);\n                });\n            }\n        }\n    }\n\n    const postComment= (event) => {\n        event.preventDefault();\n        db.collection(\"posts\").doc(postId).collection(\"comments\").add({\n            text: comment,\n            username: user.displayName || user.email.split('@')[0],\n            timestamp: firebase.firestore.FieldValue.serverTimestamp(),\n        })\n        setComment('');\n    }\n\n\treturn post && (\n\t\t<div className=\"post\">\n\t\t\t<div className=\"postHeader\">\n\t\t\t\t<img\n\t\t\t\t\tclassName=\"avatar\"\n\t\t\t\t\tsrc={post.avatar}\n\t\t\t\t\talt={post.username}\n\t\t\t\t\ttitle={post.username}\n\t\t\t\t/>\n\t\t\t\t<Link to={`/profile/${post.email}`}><h3 className=\"postUsername\">{post.username}</h3></Link>\n\t\t\t</div>\n            <Link to={`/post/${postId}`}>\n                <img\n                    className=\"postImage\"\n                    src={post.imageUrl}\n                    alt={postId}\n                />\n            </Link>\n            <div className=\"postInteractionBar\">\n                <i onClick={changeHeart} id={postId} className=\"far fa-heart postInteractionItem postHeart\"></i>\n                <Link to={`/post/${postId}`}>\n                    <i className=\"far fa-comment postInteractionItem\"></i>\n                </Link>\n            </div>\n                \n            <div className=\"postComments\">\n                {post.caption &&\n                <p className=\"postCaption\">\n                    <strong><Link className=\"commentLink\" to={`/profile/${post.email}`}>{post.username}</Link></strong> {post.caption}\n                </p>\n                }\n                {comments.map((comment , i) => (\n                    <p key={i} className=\"postCaption\">\n                        <strong><Link className=\"commentLink\" to={`/profile/${post.email}`}>{comment.username}</Link></strong> {comment.text}\n                    </p>\n                ))}\n                <Link to={`/post/${postId}`}>\n                    {hasMoreComments && <p className=\"postCaption postMoreComments\">See all comments ...</p>}\n                </Link>\n            </div>\n            \n            {user ?\n            <form className=\"postCommentsInput\">\n                <input className=\"postComment\" type=\"text\" placeholder=\"Add a comment...\" value={comment} onChange={(e) => setComment(e.target.value)}/>\n                <button className=\"postCommentButton\" type=\"submit\" disabled={!comment} onClick={postComment}> Post </button>\n            </form> : \n            \"\"\n            }\n\t\t</div>\n\t);\n}\n\nexport default Post;\n","import React, { useEffect, useState } from 'react'\nimport { Link, useParams } from 'react-router-dom';\nimport { db } from '../firebase';\nimport firebase from \"firebase\";\nimport { useStateValue } from '../StateProvider';\nimport './SinglePost.css'\n\n\n\n\n\n \n\n\nfunction SinglePost() {\n    const { id } = useParams();\n\n    const [comments, setComments] = useState([]);\n    const [comment, setComment] = useState('');\n    const [likedPosts, setlikedPosts] = useState([]);\n    const [post, setPost] = useState({});\n    const [{ user }, dispatch] = useStateValue();\n    const icon = document.getElementById(id);\n\n    useEffect(() => {\n\t\tdocument.title = `${(post?.username +\", \"+ post?.caption)} | Planeinfo`;\n\t}, [post?.caption, post?.username])\n\n    \n\n\n    useEffect(() => {\n        if(id){\n            db.collection(\"posts\")\n            .doc(id)\n            .collection(\"comments\")\n            .orderBy(\"timestamp\", \"asc\")\n            .onSnapshot((snapshot)=>{\n                setComments(snapshot.docs.map((doc)=>doc.data()));\n            });\n        }\n    }, [id])\n\n    useEffect(() => {\n        if(id){\n            db.collection(\"posts\").doc(id).get().then((doc) => {\n                setPost(doc.data());\n            });\n        }\n    }, [id])\n\n\n\n    useEffect(()=> {\n        if(id && user){\n\n            db.collection(\"users\").doc(user.email).collection(\"likes\").onSnapshot((snapshot)=>{\n                setlikedPosts(snapshot.docs.map((doc)=>doc.id));\n            });\n\n            if(likedPosts.indexOf(id) >= 0){\n                icon.classList.add('fas');\n            }\n        }\n    }, [id, likedPosts.length, icon, user])\n\n    const postComment= (event) => {\n        event.preventDefault();\n        db.collection(\"posts\").doc(id).collection(\"comments\").add({\n            text: comment,\n            username: user.displayName || user.email.split('@')[0],\n            timestamp: firebase.firestore.FieldValue.serverTimestamp(),\n        })\n        setComment('');\n    }\n    \n    const changeHeart = () => {\n        if(id && user){\n            icon.classList.toggle('fas');\n\n            if(icon.classList.contains('fas')){\n                db.collection(\"users\").doc(user.email).collection(\"likes\").doc(id).set({\n                    post: id\n                });\n            }else{\n                db.collection(\"users\").doc(user.email).collection(\"likes\").doc(id).delete().then(function() {\n                    console.log(\"Unliked Photo!\");\n                }).catch(function(error) {\n                    console.error(\"Error unliking: \", error);\n                });\n            }\n        }\n    }\n     \n        \n\n       \n\n\n\n    return post && (\n\n\n        <div className=\"singlePostContainer\">\n\n\n            <div className=\"singlePost\">\n                <img\n                    \n                    className=\"singlePostImage\"\n                    src={post.imageUrl}\n                    alt={id}\n                />\n\n                              \n\n                <div className=\"singlePostRight\">\n                    <div className=\"postHeader\">\n\n                        <img\n                            onclick=\"enlargeImg()\"\n                            className=\"avatar\"\n                            src={post.avatar}\n                            alt={post.username}\n                            title={post.username}\n                        />\n\n                        <Link className=\"commentLink\" to={`/profile/${post.email}`}><h3 className=\"postUsername\">{post.username}</h3></Link>\n                    </div>\n\n                    \n                    <h9>Plane type: <a href={`http://planeinfo.co.uk/planes/${post.Aircraft}`}><h9>{post.Aircraft}</h9></a></h9>\n                    <br />\n                    <h9>Airline: {post.Airline}</h9>\n\n                    <br /><br />\n                    <div>\n\n\n\n                    <div className=\"postComments singlePostComments\">\n                        {post.caption &&\n                        <p className=\"postCaption\">\n                            <strong><Link className=\"commentLink\" to={`/profile/${post.email}`}>{post.username}</Link></strong> {post.caption}\n                        </p>\n                        }\n                        {comments.map((comment , i) => (\n                            <p key={i} className=\"postCaption\">\n                                <strong><Link className=\"commentLink\" to={`/profile/${post.email}`}>{comment.username}</Link></strong> {comment.text}\n                            </p>\n                        ))}\n                    </div>\n                    <div className=\"postInteractionBar singlePostInteractionBar\">\n                        <i onClick={changeHeart} id={id} className=\"far fa-heart postInteractionItem postHeart\"></i>           \n                        <i className=\"far fa-comment postInteractionItem\"></i>\n                    </div>\n\n\n\n\n                    {user ?\n                        <form className=\"postCommentsInput\">\n                            <input className=\"postComment\" type=\"text\" placeholder=\"Add a comment...\" value={comment} onChange={(e) => setComment(e.target.value)}/>\n                            <button className=\"postCommentButton\" type=\"submit\" disabled={!comment} onClick={postComment}> Post </button>\n                        </form> : \n                    \"\"\n                    }\n\n\n                    \n\n                </div>\n                \n\t\t    </div>\n\n            \n       \n            <div>\n\n       \n\n\n\n</div>\n</div>\n\n</div>\n\n\n    )\n    \n\n               };       \nexport default SinglePost\n","import React, { useEffect, useState } from \"react\";\nimport { db } from \"../firebase\";\nimport firebase from \"firebase\";\nimport { useParams } from 'react-router-dom';\nimport './Profile.css'\nimport { useStateValue } from \"../StateProvider\";\nimport Post from \"./Post\";\n\nfunction Profile() {\n\n    const { userid } = useParams();\n    const [posts, setPosts] = useState([]);\n    const [{ user }, dispatch] = useStateValue();\n\n    useEffect(() => {\n\t\tdocument.title = `${posts[0]?.post.username} | Reacttagram`;\n\t}, [posts[0]?.post.username])\n\n    useEffect(() => {\n\n        if(userid && userid){\n            db.collection(\"posts\").orderBy('timestamp', 'desc').onSnapshot(snapshot => {\n                setPosts(snapshot.docs.filter(doc =>(doc.data().email === userid) === true)\n                .map( doc => (\n                    {\n                        id: doc.id,\n                        post: doc.data()\n                    }\n                )))\n            })\n        }\n\n    }, [userid])\n\n    return (\n        <div>\n            <div className=\"profileContainer\">\n                <img className=\"profileAvatar\" src={posts[0]?.post.avatar} alt=\"avatar\"/>\n                <h2 className=\"profileName\">{posts[0]?.post.username}</h2>\n            </div>\n\n            <div className=\"posts\">\n                {\n                    posts.map(({id, post}) => (\n                        <Post key={id} postId={id} user={user} post={post}/>\n                    ))\n                }\n            </div>\n            \n        </div>\n    )\n}\n\nexport default Profile\n","import React, { useState } from \"react\";\nimport { db, storage } from \"../firebase\";\nimport firebase from \"firebase\";\nimport Select from 'react-select';\nimport \"./Upload.css\";\n\n\n \n\n\nconst planes = [\n\t{ label: 'Concorde', value: 'Concorde' },\n\t{ label: 'Airbus A220', value: 'A220' },\n\t{ label: 'Airbus A300', value: 'A300' },\n\t{ label: 'Airbus A320', value: 'A320' },\n\t{ label: 'Airbus A330', value: 'A330' },\n\t{ label: 'Airbus A340', value: 'A340' },\n\t{ label: 'Airbus A350', value: 'A350' },\n\t{ label: 'Airbus A380', value: 'A380' },\n\t{ label: 'Airbus A400M', value: 'A400M' },\n\n\t{ label: 'Antonov An-124', value: 'An-124' },\n\t{ label: 'Antonov An-148', value: 'An-148' },\n\t{ label: 'Antonov An-158', value: 'An-158' },\n\t{ label: 'Antonov An-225', value: 'An-225' },\n\n\t{ label: 'ATR 42', value: 'Atr42' },\n\t{ label: 'ATR 72', value: 'Atr72' },\n\n\t{ label: 'Boeing 717', value: '717' },\n\t{ label: 'Boeing 737', value: '737' },\n\t{ label: 'Boeing 747', value: '747' },\n\t{ label: 'Boeing 757', value: '757' },\n\t{ label: 'Boeing 767', value: '767' },\n\t{ label: 'Boeing 777', value: '777' },\n\t{ label: 'Boeing 787', value: '787' },\n\t{ label: 'Boeing C-17', value: 'C-17' },\n\n\t{ label: 'Bombardier CRJ-100', value: 'CRJ-100' },\n\t{ label: 'Bombardier CRJ-200', value: 'CRJ-200' },\n\t{ label: 'Bombardier CRJ-400', value: 'CRJ-400' },\n\t{ label: 'Bombardier CRJ-700', value: 'CRJ-700' },\n\t{ label: 'Bombardier CRJ-900', value: 'CRJ-900' },\n\t{ label: 'Bombardier CRJ-1000', value: 'CRJ-1000' },\n\n\t{ label: 'De Havilland Dash 8', value: 'Dash8' },\n\n\t{ label: 'BAe 146', value: 'BAe146' },\n\t{ label: 'Avro RJ', value: 'Avrorj' },\n\n\t{ label: 'BAC 1-11', value: 'Bac1-11' },\n\t{ label: 'BAc Vickers VC-10', value: 'Vc-10' },\n\n\t{ label: 'Cessna 408', value: 'C408' },\n\n\t{ label: 'Comac ARJ21', value: 'Arj21' },\n\t{ label: 'Comac C919', value: 'C919' },\n\n\t{ label: 'Convair CV-880', value: 'Cv-880' },\n\t{ label: 'Convair CV-990', value: 'Cv-990' },\n\n\t{ label: 'Dassault Mercure', value: 'Mercure' },\n\n\t{ label: 'Douglas DC-8', value: 'Dc8' },\n\t{ label: 'Douglas DC-9', value: 'Dc9' },\n\t{ label: 'MD-80', value: 'Md80' },\n\t{ label: 'MD-90', value: 'Md90' },\n\t{ label: 'Douglas DC-10', value: 'Dc10' },\n\t{ label: 'MD-11', value: 'Md11' },\n\n\t{ label: 'Dornier Do-328', value: 'Do328' },\n\t{ label: 'Dornier Do-728', value: 'Do728' },\n\n\t{ label: 'Embraer ERJ-145', value: 'Erj145' },\n\t{ label: 'Embraer ERJ-170', value: 'Erj170' },\n\t{ label: 'Embraer ERJ-190', value: 'Erj190' },\n\t{ label: 'Embraer E-Jet E2', value: 'Ejete2' },\n\n\t{ label: 'Fokker 50', value: 'fokker50' },\n\t{ label: 'Fokker 60', value: 'fokker60' },\n\t{ label: 'Fokker 70', value: 'fokker70' },\n\t{ label: 'Fokker 100', value: 'fokker100' },\n\n\t{ label: 'Handley Page Herald', value: 'Herald' },\n\n\t{ label: 'Ilyushin IL-96', value: 'Il96' },\n\n\t{ label: 'Lockheed C-5 Galaxy', value: 'C5galaxy' },\n\t{ label: 'Lockheed L-188 Electra', value: 'L188electra' },\n\n\t{ label: 'Mitsubishi SpaceJet MRJ90', value: 'Mrj90' },\n\n\t{ label: 'Saab 340', value: 'S340' },\n\t{ label: 'Saab 2000', value: 'S2000' },\n\n\t{ label: 'Short SC.5 Belfast', value: 'Sc5belfast' },\n\n\t{ label: 'Sukhoi Superjet 100', value: 'Superjet100' },\n\n\t{ label: 'Tupolev Tu-204', value: 'Tu-204' },\n\t{ label: 'Tupolev Tu-214', value: 'Tu-214' },\n\n\t{ label: 'Other', value: 'Other' },\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n  ];\n  \n\n\n\nfunction Upload({ user }) {\n\tconst [caption, setCaption] = useState(\"\");\n\tconst [Aircraft, setAircraft] = useState(\"\");\n\tconst [Airline, setAirline] = useState(\"\");\n\tconst [image, setImage] = useState(null);\n\tconst [file, setFile] = useState(null);\n\tconst [showDelete, setshowDelete] = useState(false);\n\tconst [fileName, setFileName] = useState(\"\");\n\tconst [progress, setProgress] = useState(0);\n\n\tconst handleFileChange = (e) => {\n\t\tif (e.target.files[0]) {\n\t\t\tsetImage(e.target.files[0]);\n\t\t}\n\t\tsetFile(URL.createObjectURL(e.target.files[0]));\n\n\t\tvar a = e.target.value.toString().split('\\\\');\n\t\tvar name = a[a.length -1];\n\t\tif(name.length > 20) name = name.split('.')[0].substring(0,20) + '....'+ name.split('.')[name.split('.').length - 1];\n\t\tsetFileName(name);\n\t\tsetshowDelete(true);\n\t};\n\t\n\tconst handleTrash = () => {\n\t\tsetshowDelete(false);\n\t\tsetImage(null);\n\t\tsetFileName(\"\")\n\t\tsetFile(null);\n\t}\n\n\tconst closeUpload = () => {\n\t\tdocument.querySelector(\".upload\").style.display = \"none\";\n\t\tdocument.querySelector(\".filter\").style.display = \"none\";\n\t}\n\n\tconst openUpload = () => {\n\t\tdocument.querySelector(\".upload\").style.display = \"grid\";\n\t\tdocument.querySelector(\".filter\").style.display = \"block\";\n\t}\n\n\n\tconst handleUpload = () => {\n\t\tconst imageName = `${image.name}${Math.floor(Math.random() * (9999 - 1000) ) + 1000}`;\n\t\tconst uploadTask = storage.ref(`images/${imageName}`).put(image);\n\t\tuploadTask.on(\n\t\t\t\"state_changed\",\n\t\t\t(snapshot) => {\n\t\t\t\tconst progress = Math.round(\n\t\t\t\t\t(snapshot.bytesTransferred / snapshot.totalBytes) * 100\n\t\t\t\t);\n\t\t\t\tsetProgress(progress);\n\t\t\t},\n\n\t\t\t(error) => {\n\t\t\t\tconsole.log(error);\n\t\t\t\talert(error.message);\n\t\t\t},\n\n\t\t\t() => {\n\t\t\t\tstorage\n\t\t\t\t\t.ref(\"images\")\n\t\t\t\t\t.child(imageName)\n\t\t\t\t\t.getDownloadURL()\n\t\t\t\t\t.then((url) => {\n\t\t\t\t\t\tdb.collection(\"posts\").add({\n                            timestamp: firebase.firestore.FieldValue.serverTimestamp(),\n                            avatar: user.photoURL || `https://avatars.dicebear.com/api/gridy/${user.email}.svg`,\n\t\t\t\t\t\t\tcaption: caption,\n\t\t\t\t\t\t\timageUrl: url,\n\t\t\t\t\t\t\temail: user.email,\n\t\t\t\t\t\t\tusername: user.displayName || user.email.split('@')[0],\n\t\t\t\t\t\t\tAircraft : Aircraft,\n\t\t\t\t\t\t\tAirline : Airline,\n\t\t\t\t\t\t});\n\t\t\t\t\t\tsetAirline(\"\");\n\t\t\t\t\t\tsetAircraft(\"\");\n\t\t\t\t\t\tsetProgress(0);\n\t\t\t\t\t\tsetCaption(\"\");\n\t\t\t\t\t\tsetImage(null);\n\t\t\t\t\t\tsetFileName(\"\")\n\t\t\t\t\t\tsetFile(null);\n\t\t\t\t\t\tsetshowDelete(false);\n\t\t\t\t\t\tcloseUpload();\n\t\t\t\t\t\tdocument.getElementById('root').scrollIntoView({ behavior: 'smooth' });\n\t\t\t\t\t});\n\t\t\t}\n\t\t);\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<div className=\"addPostBtn\" onClick={openUpload}><i className=\"fas fa-plus\"></i></div>\n\t\t\t<div className=\"upload\">\n\t\t\t\t<div className=\"uploadContent\">\n\t\t\t\t\n\t\t\t\t\t{file &&\n\t\t\t\t\t<>\n\t\t\t\t\t\t<div className=\"postHeader\">\n\t\t\t\t\t\t\t<h3 className=\"uploadPreview\">POST PREVIEW</h3>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\n\t\t\t\t\t\t<img className=\"postImage\" src={file} alt={fileName}/>\n\t\t\t\t\t</>\n\t\t\t\t\t}\n\t\t\t\t\t<input \n\t\t\t\t\t\tclassName=\"uploadCaption\"\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tplaceholder=\"Enter a caption...\"\n\t\t\t\t\t\tonChange={(event) => setCaption(event.target.value)}\n\t\t\t\t\t\tvalue={caption}\n\t\t\t\t\t/>\n\n <Select options={planes} className=\"dropdown\" onChange={opt => setAircraft(opt.value)} \n />\n\n\n<input \n\t\t\t\t\t\tclassName=\"uploadCaption\"\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tplaceholder=\"Enter Airline...\"\n\t\t\t\t\t\tonChange={(event) => setAirline(event.target.value)}\n\t\t\t\t\t\tvalue={Airline}\n\t\t\t\t\t/>\n\n <button onClick={console.log(Aircraft)}></button>\n\n\n\n\t\t\t\t\t<div className=\"uploadButtons\">\n\t\t\t\t\t\t<label htmlFor=\"file-upload\" className=\"customFileUpload\">\n\t\t\t\t\t\t\t<i className=\"fas fa-file-upload\"></i> Upload Image\n\t\t\t\t\t\t</label>\n\t\t\t\t\t\t<input id=\"file-upload\" type=\"file\" accept=\"image/*\" onChange={handleFileChange} />\n\t\t\t\t\t\t{ showDelete &&\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<div className=\"fileName\">{fileName}</div>\n\t\t\t\t\t\t\t<div className=\"trashBtn\" onClick={handleTrash}><i className=\"fas fa-trash\"></i></div>\n\t\t\t\t\t\t</>\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\n\n\t\t\t\t\t\t\n\t\t\t\t\t</div>\n\n\n\n\t\t\t\t\t<progress className=\"uploadProgress\" value={progress} max=\"100\"></progress>\n\t\t\t\t\t<button type=\"submit\" disabled={!file && !caption} onClick={handleUpload} className=\"postButton\">\n\t\t\t\t\t\tPost\n\t\t\t\t\t</button>\n\t\t\t\t\t<div className=\"closeBtn\" onClick={closeUpload}><i className=\"fas fa-times\"></i></div>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t</>\n\t\t\n\t);\n}\n\nexport default Upload;\n","import React from \"react\";\n\nimport \"./Footer.css\";\n\nfunction Footer() {\n    return (\n        <footer id=\"footer\" className=\"footer\">            \n            <p>\n            &copy; planeinfo\n\n            </p>\n        </footer>\n    );\n};\n\nexport default Footer;\n","import { BrowserRouter as Router, Redirect, Route, Switch } from \"react-router-dom\";\nimport Header from \"./components/Header\";\nimport Login from \"./components/Login\";\nimport Post from \"./components/Post\";\nimport SinglePost from \"./components/SinglePost\";\nimport Profile from \"./components/Profile\";\nimport Upload from \"./components/Upload\";\nimport Footer from \"./components/Footer\";\nimport { db, auth } from \"./firebase\";\nimport \"./App.css\";\nimport { useEffect, useState } from \"react\";\nimport { useStateValue } from \"./StateProvider\";\n\nfunction App() {\n\tconst [{ user }, dispatch] = useStateValue();\n\n\tconst [posts, setPosts] = useState([]);\n\n\tuseEffect(() => {\n\t\tdb.collection(\"posts\").orderBy('timestamp', 'desc').onSnapshot(snapshot => {\n\t\t\tsetPosts(snapshot.docs.map(doc => (\n\t\t\t\t{\n\t\t\t\t\tid: doc.id,\n\t\t\t\t\tpost: doc.data()\n\t\t\t\t}\n\t\t\t)))\n\t\t})\n\t}, [])\n\n\tuseEffect(() => {\n\t\tauth.onAuthStateChanged((authUser) => {\n\t\t\tif (authUser) {\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: \"SET_USER\",\n\t\t\t\t\tuser: authUser,\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: \"SET_USER\",\n\t\t\t\t\tuser: null,\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t}, []);\n\n\treturn (\n\t\t<div className=\"App\">\n\t\t\t<div className=\"filter\"></div>\n\t\t\t<Router>\n\t\t\t\t<Switch>\n\t\t\t\t\t<Route exact path=\"/login\">\n\t\t\t\t\t\t<Header />\n\t\t\t\t\t\t<Login />\n\t\t\t\t\t\t<Footer/>\n\t\t\t\t\t</Route>\n\t\t\t\t\t<Route exact path=\"/post/:id\">\n\t\t\t\t\t\t<Header />\n\t\t\t\t\t\t<SinglePost />\n\t\t\t\t\t\t{user ?\n\t\t\t\t\t\t\t<Upload user={user}/> : \"\"\n\t\t\t\t\t\t}\n\t\t\t\t\t\t<Footer/>\n\t\t\t\t\t</Route>\n\t\t\t\t\t<Route exact path=\"/profile/:userid\">\n\t\t\t\t\t\t<Header />\n\t\t\t\t\t\t<Profile />\n\t\t\t\t\t\t{user ?\n\t\t\t\t\t\t\t<Upload user={user}/> : \"\"\n\t\t\t\t\t\t}\n\t\t\t\t\t\t<Footer/>\n\t\t\t\t\t</Route>\n\t\t\t\t\t<Route exact path=\"/\">\n\t\t\t\t\t\t<Header />\n\t\t\t\t\t\t<div className=\"posts\">\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tposts.map(({id, post}) => (\n\t\t\t\t\t\t\t\t\t<Post key={id} postId={id} user={user} post={post}/>\n\t\t\t\t\t\t\t\t))\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{user ?\n\t\t\t\t\t\t\t<Upload user={user}/> : \"\"\n\t\t\t\t\t\t}\t\n\t\t\t\t\t\t<Footer />\n\t\t\t\t\t</Route>\n\t\t\t\t\t<Route><Redirect to=\"/\"/></Route>\n\t\t\t\t</Switch>\n\t\t\t</Router>\n\t\t</div>\n\t);\n}\n\nexport default App;\n","export const initialState = {\n\tuser: null,\n};\n\nconst reducer = (state, action) => {\n\tswitch (action.type) {\n\t\tcase \"SET_USER\":\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tuser: action.user,\n\t\t\t};\n\n\t\tdefault:\n\t\t\treturn state;\n\t}\n};\n\nexport default reducer;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://cra.link/PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://cra.link/PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://cra.link/PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log('No internet connection found. App is running in offline mode.');\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then((registration) => {\n        registration.unregister();\n      })\n      .catch((error) => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reducer, { initialState } from \"./reducer\";\nimport { StateProvider } from \"./StateProvider\";\nimport * as serviceWorkerRegistration from \"./serviceWorkerRegistration\";\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <StateProvider initialState={initialState} reducer={reducer}>\n        <App />\n    </StateProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n\nserviceWorkerRegistration.register({\n\tonUpdate: registration => {\n\t  const waitingServiceWorker = registration.waiting;\n\t  if (waitingServiceWorker) {\n\t\twaitingServiceWorker.addEventListener(\"statechange\", event => {\n\t\t  if (event.target.state === \"activated\") {\n        alert(\"New Verison Found. Refressing...\");\n        window.location.reload()\n\t\t  }\n\t\t})\n\t\twaitingServiceWorker.postMessage({ type: \"SKIP_WAITING\" })\n\t  }\n\t}\n})\n"],"sourceRoot":""}